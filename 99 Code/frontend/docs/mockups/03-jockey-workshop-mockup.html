<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AutoConcierge - Jockey & Workshop Portal Mockup</title>
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        navy: { DEFAULT: '#0f172a', light: '#1e293b', mid: '#334155' },
        accent: { blue: '#3b82f6', amber: '#f59e0b', success: '#10b981', error: '#ef4444', purple: '#8b5cf6' }
      }
    }
  }
}
</script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
body { font-family: 'Inter', sans-serif; background: #f1f5f9; }
* { box-sizing: border-box; }

/* Tab system */
.portal-tab { transition: all 0.3s ease; }
.portal-tab.active { border-bottom: 3px solid #3b82f6; color: #3b82f6; font-weight: 600; }
.portal-tab:not(.active) { border-bottom: 3px solid transparent; color: #64748b; }
.portal-content { display: none; animation: fadeIn 0.4s ease; }
.portal-content.active { display: block; }

/* View transitions */
.view-panel { display: none; animation: slideIn 0.35s ease; }
.view-panel.active { display: block; }

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes slideIn { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }

/* Phone frame */
.phone-frame {
  width: 390px; max-width: 100%; margin: 0 auto;
  border: 8px solid #1e293b; border-radius: 40px;
  box-shadow: 0 25px 60px rgba(0,0,0,0.25), 0 0 0 2px #475569;
  overflow: hidden; background: #fff; position: relative;
}
.phone-notch {
  width: 150px; height: 28px; background: #1e293b;
  border-radius: 0 0 18px 18px; margin: 0 auto; position: relative; z-index: 10;
}

/* Pulsing dot */
@keyframes pulse { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.5; transform: scale(1.4); } }
.pulse-dot { animation: pulse 2s infinite; }

/* Kanban drag handle */
.drag-handle { cursor: grab; opacity: 0.3; transition: opacity 0.2s; }
.drag-handle:hover { opacity: 0.7; }

/* Card hover */
.card-lift { transition: transform 0.2s ease, box-shadow 0.2s ease; }
.card-lift:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0,0,0,0.1); }

/* Checkbox custom */
.check-item input[type="checkbox"]:checked + span { text-decoration: line-through; color: #94a3b8; }

/* Kanban column */
.kanban-col { min-height: 400px; }

/* Progress bar animation */
@keyframes progressPulse { 0%, 100% { opacity: 0.7; } 50% { opacity: 1; } }
.progress-pulse { animation: progressPulse 2s infinite; }

/* Scrollbar */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }

/* Status banner animation */
@keyframes carMove { 0% { left: 10%; } 50% { left: 80%; } 100% { left: 10%; } }
.car-anim { position: absolute; animation: carMove 4s ease-in-out infinite; }

/* Signature canvas placeholder */
.sig-area { background: repeating-linear-gradient(0deg, transparent, transparent 19px, #e2e8f0 19px, #e2e8f0 20px); }

/* Toggle switch */
.toggle-track { transition: background 0.3s; }
.toggle-knob { transition: transform 0.3s; }
</style>
</head>
<body class="min-h-screen bg-slate-100">

<!-- Top Navigation Tabs -->
<div class="bg-navy text-white sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4">
    <div class="flex items-center justify-between h-14">
      <div class="flex items-center gap-3">
        <div class="w-8 h-8 bg-accent-blue rounded-lg flex items-center justify-center font-bold text-sm">AC</div>
        <span class="font-semibold text-sm tracking-wide">AutoConcierge Mockup</span>
      </div>
      <div class="flex gap-1">
        <button onclick="switchPortal('jockey')" id="tab-jockey" class="portal-tab active px-5 py-4 text-sm">Jockey Portal</button>
        <button onclick="switchPortal('workshop')" id="tab-workshop" class="portal-tab px-5 py-4 text-sm">Workshop Portal</button>
      </div>
      <div class="text-xs text-slate-400">Design Mockup v3</div>
    </div>
  </div>
</div>

<!-- ===================== JOCKEY PORTAL ===================== -->
<div id="portal-jockey" class="portal-content active py-8">
  <div class="max-w-5xl mx-auto px-4">
    <div class="text-center mb-6">
      <span class="inline-block bg-accent-purple/10 text-accent-purple text-xs font-semibold px-3 py-1 rounded-full mb-2">Mobile-First Design</span>
      <h2 class="text-xl font-bold text-navy">Jockey Portal -- Redesign</h2>
      <p class="text-slate-500 text-sm mt-1">Optimiert fuer den mobilen Einsatz unterwegs</p>
      <div class="flex justify-center gap-3 mt-4">
        <button onclick="switchJockeyView('dashboard')" id="jv-dashboard" class="px-4 py-2 text-sm font-medium rounded-full bg-accent-blue text-white">Dashboard</button>
        <button onclick="switchJockeyView('detail')" id="jv-detail" class="px-4 py-2 text-sm font-medium rounded-full bg-slate-200 text-slate-600 hover:bg-slate-300">Auftragsdetails</button>
      </div>
    </div>

    <!-- Phone Frame -->
    <div class="phone-frame mx-auto" style="min-height:820px;">
      <div class="phone-notch"></div>

      <!-- === JOCKEY VIEW 1: DASHBOARD === -->
      <div id="jockey-dashboard" class="view-panel active">
        <!-- Header -->
        <div class="bg-gradient-to-r from-navy to-navy-light px-5 pt-3 pb-4">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-white font-semibold text-base">Hallo, Max!</p>
              <p class="text-slate-400 text-xs">Sonntag, 8. Februar 2026</p>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <svg class="w-5 h-5 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/></svg>
                <span class="absolute -top-1 -right-1 w-4 h-4 bg-accent-error rounded-full text-white text-[9px] flex items-center justify-center font-bold">3</span>
              </div>
              <div class="w-8 h-8 rounded-full bg-accent-blue/30 border-2 border-accent-blue flex items-center justify-center text-white text-xs font-bold">MK</div>
            </div>
          </div>
        </div>

        <!-- Status Toggle -->
        <div class="px-5 py-3 bg-white border-b border-slate-100">
          <div class="flex items-center justify-between">
            <span class="text-sm font-medium text-slate-700">Status</span>
            <div class="flex items-center gap-2">
              <span id="toggle-label" class="text-sm font-semibold text-accent-success">Verfuegbar</span>
              <div onclick="toggleAvailability()" class="relative w-11 h-6 cursor-pointer">
                <div id="toggle-track" class="toggle-track w-11 h-6 rounded-full bg-accent-success"></div>
                <div id="toggle-knob" class="toggle-knob absolute top-0.5 left-5 w-5 h-5 bg-white rounded-full shadow-md"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Today Summary -->
        <div class="mx-5 mt-3 px-4 py-2.5 bg-navy/5 rounded-xl">
          <p class="text-xs font-medium text-navy">
            <span class="font-bold text-navy">2 Auftraege heute</span>
            <span class="text-slate-400 mx-1.5">&middot;</span>
            <span class="text-accent-blue">1 Abholung</span>
            <span class="text-slate-400 mx-1.5">&middot;</span>
            <span class="text-accent-purple">1 Rueckgabe</span>
          </p>
        </div>

        <!-- Active Assignment Card (Pickup) -->
        <div class="mx-5 mt-4">
          <p class="text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-2">Aktueller Auftrag</p>
          <div class="bg-white rounded-2xl border-l-4 border-accent-blue shadow-md overflow-hidden">
            <div class="p-4">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-2">
                  <span class="px-2.5 py-0.5 bg-accent-blue/10 text-accent-blue text-[11px] font-semibold rounded-full">Abholung</span>
                  <span class="flex items-center gap-1 text-[11px] text-accent-success font-medium">
                    <span class="w-1.5 h-1.5 bg-accent-success rounded-full pulse-dot"></span>
                    Zugewiesen
                  </span>
                </div>
                <span class="text-xs text-slate-400 font-medium">10:00 Uhr</span>
              </div>
              <p class="font-semibold text-navy text-sm">Stefan R.</p>
              <div class="flex items-center gap-1.5 mt-1.5 text-xs text-slate-500">
                <svg class="w-3.5 h-3.5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                Hauptstr. 123, 58453 Witten
              </div>
              <div class="flex items-center gap-1.5 mt-1 text-xs text-slate-500">
                <svg class="w-3.5 h-3.5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10m10 0h4m-4 0H9m-5 0H3m2 0h4"/></svg>
                BMW 3er &middot; WI-AB 1234
              </div>
            </div>
            <!-- Action Button -->
            <button class="w-full py-3.5 bg-accent-blue hover:bg-blue-600 text-white font-semibold text-sm flex items-center justify-center gap-2 transition-colors">
              <span>Route starten</span>
              <span class="text-base">&#128663;</span>
            </button>
            <!-- Secondary Actions -->
            <div class="flex divide-x divide-slate-100 bg-slate-50">
              <button class="flex-1 py-2.5 text-xs font-medium text-slate-500 hover:text-accent-blue hover:bg-blue-50 flex items-center justify-center gap-1.5 transition-colors">
                <span>&#128222;</span> Anrufen
              </button>
              <button class="flex-1 py-2.5 text-xs font-medium text-slate-500 hover:text-accent-blue hover:bg-blue-50 flex items-center justify-center gap-1.5 transition-colors">
                <span>&#128506;</span> Navigation
              </button>
            </div>
          </div>
        </div>

        <!-- Upcoming Assignment (Return) -->
        <div class="mx-5 mt-5">
          <p class="text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-2">Naechster Auftrag</p>
          <div class="bg-white/70 rounded-2xl border-l-4 border-accent-purple shadow-sm overflow-hidden">
            <div class="p-4">
              <div class="flex items-center justify-between mb-2">
                <div class="flex items-center gap-2">
                  <span class="px-2.5 py-0.5 bg-accent-purple/10 text-accent-purple text-[11px] font-semibold rounded-full">Rueckgabe</span>
                </div>
                <span class="text-xs text-slate-400 font-medium">14:00 Uhr</span>
              </div>
              <p class="font-medium text-navy text-sm">Stefan R.</p>
              <div class="flex items-center gap-1.5 mt-1 text-xs text-slate-400">
                <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                Rueckgabe an Kunden &middot; Hauptstr. 123
              </div>
              <div class="flex items-center gap-1.5 mt-1 text-xs text-slate-400">
                <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10m10 0h4m-4 0H9m-5 0H3m2 0h4"/></svg>
                BMW 3er &middot; WI-AB 1234
              </div>
            </div>
          </div>
        </div>

        <!-- Completed Today -->
        <div class="mx-5 mt-5 mb-6">
          <button onclick="toggleCompleted()" class="flex items-center gap-2 text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-2 hover:text-slate-600">
            <svg id="completed-chevron" class="w-3.5 h-3.5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
            Heute erledigt (0)
          </button>
          <div id="completed-section" class="hidden">
            <div class="bg-slate-50 rounded-xl p-4 text-center">
              <p class="text-xs text-slate-400">Noch keine abgeschlossenen Auftraege heute.</p>
            </div>
          </div>
        </div>

      </div><!-- /jockey-dashboard -->

      <!-- === JOCKEY VIEW 2: ASSIGNMENT DETAIL === -->
      <div id="jockey-detail" class="view-panel">
        <!-- Detail Header -->
        <div class="bg-gradient-to-r from-navy to-navy-light px-5 pt-3 pb-3">
          <div class="flex items-center gap-3">
            <button onclick="switchJockeyView('dashboard')" class="text-slate-300 hover:text-white">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
            </button>
            <p class="text-white font-semibold text-sm">Auftragsdetails</p>
          </div>
        </div>

        <!-- Status Banner -->
        <div class="relative bg-gradient-to-r from-accent-blue to-blue-500 px-5 py-4 overflow-hidden">
          <div class="relative z-10">
            <p class="text-white/70 text-[10px] uppercase tracking-wider font-medium">Aktueller Status</p>
            <p class="text-white font-bold text-base mt-0.5">Unterwegs zum Kunden</p>
          </div>
          <!-- Animated car -->
          <div class="absolute bottom-2 w-full h-4 left-0 px-5">
            <div class="relative w-full h-full">
              <div class="absolute bottom-0 left-0 right-0 border-b border-dashed border-white/30"></div>
              <div class="car-anim text-lg" style="top: -8px;">&#128663;</div>
            </div>
          </div>
        </div>

        <!-- Map Placeholder -->
        <div class="mx-5 mt-4">
          <div class="h-36 bg-slate-100 rounded-2xl border-2 border-dashed border-slate-200 flex flex-col items-center justify-center relative overflow-hidden">
            <div class="absolute inset-0 opacity-10">
              <svg viewBox="0 0 390 144" fill="none" class="w-full h-full"><path d="M20 120 Q100 40 195 72 Q290 104 370 24" stroke="#3b82f6" stroke-width="3" stroke-dasharray="8 4"/><circle cx="20" cy="120" r="6" fill="#3b82f6"/><circle cx="370" cy="24" r="6" fill="#ef4444"/></svg>
            </div>
            <svg class="w-8 h-8 text-slate-300 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"/></svg>
            <p class="text-xs text-slate-400 font-medium">Google Maps Integration</p>
            <p class="text-[10px] text-slate-300">~15 Min. &middot; 8,3 km</p>
          </div>
        </div>

        <!-- Customer Info -->
        <div class="mx-5 mt-4">
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-slate-100">
            <p class="text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-2.5">Kundeninformationen</p>
            <p class="font-semibold text-navy text-sm">Stefan R.</p>
            <a href="#" class="flex items-center gap-1.5 mt-2 text-xs text-accent-blue font-medium">
              <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
              0151 1234 5678
            </a>
            <div class="flex items-start gap-1.5 mt-2 text-xs text-slate-500">
              <svg class="w-3.5 h-3.5 mt-0.5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
              Hauptstr. 123, 58453 Witten
            </div>
            <div class="mt-2.5 p-2.5 bg-amber-50 rounded-lg border border-amber-100">
              <p class="text-[10px] text-amber-700 font-medium">Hinweis: Bitte an der Seiteneinfahrt klingeln.</p>
            </div>
          </div>
        </div>

        <!-- Vehicle Info -->
        <div class="mx-5 mt-3">
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-slate-100">
            <p class="text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-2.5">Fahrzeuginformationen</p>
            <div class="grid grid-cols-2 gap-y-2 gap-x-4 text-xs">
              <div><span class="text-slate-400">Marke</span><p class="font-medium text-navy">BMW</p></div>
              <div><span class="text-slate-400">Modell</span><p class="font-medium text-navy">3er (F30)</p></div>
              <div><span class="text-slate-400">Baujahr</span><p class="font-medium text-navy">2022</p></div>
              <div><span class="text-slate-400">Kennzeichen</span><p class="font-medium text-navy">WI-AB 1234</p></div>
              <div><span class="text-slate-400">Farbe</span><p class="font-medium text-navy">Schwarz</p></div>
              <div><span class="text-slate-400">Kilometerstand</span><p class="font-medium text-navy">45.230 km</p></div>
            </div>
          </div>
        </div>

        <!-- Handover Checklist -->
        <div class="mx-5 mt-3">
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-slate-100">
            <p class="text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-3">Uebergabe-Checkliste</p>
            <div class="space-y-2.5">
              <label class="check-item flex items-center gap-3 cursor-pointer">
                <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-accent-success focus:ring-accent-success">
                <span class="text-sm text-navy transition-all">Fahrzeug empfangen</span>
              </label>
              <label class="check-item flex items-center gap-3 cursor-pointer">
                <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-accent-success focus:ring-accent-success">
                <span class="text-sm text-navy transition-all">Zustand dokumentiert</span>
              </label>
              <label class="check-item flex items-center gap-3 cursor-pointer">
                <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-accent-success focus:ring-accent-success">
                <span class="text-sm text-navy transition-all">Schluessel erhalten</span>
              </label>
              <label class="check-item flex items-center gap-3 cursor-pointer">
                <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-accent-success focus:ring-accent-success">
                <span class="text-sm text-navy transition-all">Unterschrift Kunde</span>
              </label>
            </div>
          </div>
        </div>

        <!-- Photo Documentation -->
        <div class="mx-5 mt-3">
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-slate-100">
            <p class="text-[10px] font-semibold text-slate-400 uppercase tracking-wider mb-3">Fahrzeugzustand dokumentieren</p>
            <div class="grid grid-cols-4 gap-2">
              <div class="aspect-square bg-slate-50 rounded-xl border-2 border-dashed border-slate-200 flex items-center justify-center cursor-pointer hover:border-accent-blue hover:bg-blue-50 transition-colors">
                <svg class="w-6 h-6 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
              </div>
              <div class="aspect-square bg-slate-50 rounded-xl border-2 border-dashed border-slate-200 flex items-center justify-center cursor-pointer hover:border-accent-blue hover:bg-blue-50 transition-colors">
                <svg class="w-6 h-6 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
              </div>
              <div class="aspect-square bg-slate-50 rounded-xl border-2 border-dashed border-slate-200 flex items-center justify-center cursor-pointer hover:border-accent-blue hover:bg-blue-50 transition-colors">
                <svg class="w-6 h-6 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
              </div>
              <div class="aspect-square bg-slate-50 rounded-xl border-2 border-dashed border-slate-200 flex items-center justify-center cursor-pointer hover:border-accent-blue hover:bg-blue-50 transition-colors">
                <svg class="w-6 h-6 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
              </div>
            </div>
            <button class="mt-3 w-full py-2 rounded-xl bg-slate-50 border border-slate-200 text-xs font-medium text-slate-500 hover:bg-slate-100 flex items-center justify-center gap-1.5 transition-colors">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
              Kamera oeffnen
            </button>
          </div>
        </div>

        <!-- Signature Area -->
        <div class="mx-5 mt-3">
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-slate-100">
            <div class="flex items-center justify-between mb-3">
              <p class="text-[10px] font-semibold text-slate-400 uppercase tracking-wider">Unterschrift des Kunden</p>
              <button class="text-[10px] text-accent-error hover:underline font-medium">Loeschen</button>
            </div>
            <div class="sig-area h-28 rounded-xl border-2 border-slate-200 flex items-center justify-center">
              <p class="text-xs text-slate-300 font-medium">Hier unterschreiben</p>
            </div>
          </div>
        </div>

        <!-- Complete Button -->
        <div class="mx-5 mt-4 mb-6">
          <button class="w-full py-4 bg-accent-success hover:bg-emerald-600 text-white font-bold text-sm rounded-2xl flex items-center justify-center gap-2 shadow-lg shadow-emerald-200 transition-colors">
            Uebergabe abschliessen
            <span class="text-base">&#9989;</span>
          </button>
        </div>
      </div><!-- /jockey-detail -->

    </div><!-- /phone-frame -->
  </div>
</div><!-- /portal-jockey -->

<!-- ===================== WORKSHOP PORTAL ===================== -->
<div id="portal-workshop" class="portal-content">

  <!-- Workshop Top Bar -->
  <div class="bg-white border-b border-slate-200 shadow-sm">
    <div class="max-w-7xl mx-auto px-6 flex items-center justify-between h-14">
      <div class="flex items-center gap-3">
        <div class="w-8 h-8 bg-gradient-to-br from-accent-amber to-orange-500 rounded-lg flex items-center justify-center">
          <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.066 2.573c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.573 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.066-2.573c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
        </div>
        <span class="font-bold text-navy text-base">Werkstatt-Portal</span>
      </div>
      <div class="flex items-center gap-2">
        <div class="relative">
          <input type="text" placeholder="Suchen..." class="w-52 pl-8 pr-3 py-1.5 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-amber/30 focus:border-accent-amber">
          <svg class="w-4 h-4 text-slate-400 absolute left-2.5 top-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
        </div>
        <div class="relative ml-2">
          <svg class="w-5 h-5 text-slate-400 hover:text-slate-600 cursor-pointer" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/></svg>
          <span class="absolute -top-1 -right-1 w-4 h-4 bg-accent-error rounded-full text-white text-[9px] flex items-center justify-center font-bold">5</span>
        </div>
        <div class="ml-3 flex items-center gap-2 cursor-pointer pl-3 border-l border-slate-200">
          <div class="w-7 h-7 rounded-full bg-accent-amber/20 flex items-center justify-center text-accent-amber text-xs font-bold">WS</div>
          <span class="text-sm font-medium text-navy">Meister-KFZ</span>
          <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
        </div>
      </div>
    </div>
  </div>

  <!-- Workshop view toggle -->
  <div class="max-w-7xl mx-auto px-6 mt-4">
    <div class="flex gap-2">
      <button onclick="switchWorkshopView('kanban')" id="wv-kanban" class="px-4 py-2 text-sm font-medium rounded-lg bg-accent-amber text-white">Kanban-Board</button>
      <button onclick="switchWorkshopView('detail')" id="wv-detail" class="px-4 py-2 text-sm font-medium rounded-lg bg-slate-100 text-slate-600 hover:bg-slate-200">Auftragsdetails</button>
    </div>
  </div>

  <!-- === WORKSHOP VIEW 1: KANBAN === -->
  <div id="workshop-kanban" class="view-panel active">
    <!-- Stats -->
    <div class="max-w-7xl mx-auto px-6 mt-4">
      <div class="grid grid-cols-4 gap-4">
        <div class="bg-white rounded-xl p-4 border border-slate-100 card-lift">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-2xl font-bold text-accent-blue">3</p>
              <p class="text-xs text-slate-500 mt-0.5">Neue Auftraege</p>
            </div>
            <div class="w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center">
              <svg class="w-5 h-5 text-accent-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/></svg>
            </div>
          </div>
        </div>
        <div class="bg-white rounded-xl p-4 border border-slate-100 card-lift">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-2xl font-bold text-accent-amber">2</p>
              <p class="text-xs text-slate-500 mt-0.5">In Bearbeitung</p>
            </div>
            <div class="w-10 h-10 bg-amber-50 rounded-lg flex items-center justify-center">
              <svg class="w-5 h-5 text-accent-amber" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.066 2.573c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.573 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.066-2.573c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
            </div>
          </div>
        </div>
        <div class="bg-white rounded-xl p-4 border border-slate-100 card-lift">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-2xl font-bold text-accent-success">8</p>
              <p class="text-xs text-slate-500 mt-0.5">Abgeschlossen</p>
            </div>
            <div class="w-10 h-10 bg-emerald-50 rounded-lg flex items-center justify-center">
              <svg class="w-5 h-5 text-accent-success" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
            </div>
          </div>
        </div>
        <div class="bg-white rounded-xl p-4 border border-slate-100 card-lift">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-2xl font-bold text-navy">2.450 &euro;</p>
              <p class="text-xs text-slate-500 mt-0.5">Umsatz heute</p>
            </div>
            <div class="w-10 h-10 bg-slate-100 rounded-lg flex items-center justify-center">
              <svg class="w-5 h-5 text-navy" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Kanban Board -->
    <div class="max-w-7xl mx-auto px-6 mt-5 pb-8">
      <div class="grid grid-cols-3 gap-5">

        <!-- Column: Neu -->
        <div class="kanban-col">
          <div class="flex items-center gap-2 mb-3">
            <div class="w-2.5 h-2.5 bg-accent-blue rounded-full"></div>
            <h3 class="font-semibold text-navy text-sm">Neu</h3>
            <span class="ml-auto bg-blue-100 text-accent-blue text-[10px] font-bold px-2 py-0.5 rounded-full">3</span>
          </div>
          <div class="space-y-3">
            <!-- Card 1 -->
            <div class="bg-white rounded-xl border border-slate-100 shadow-sm card-lift overflow-hidden">
              <div class="p-4">
                <div class="flex items-center justify-between mb-2">
                  <div class="flex items-center gap-1.5">
                    <span class="drag-handle text-slate-300">&equiv;</span>
                    <span class="text-xs font-mono text-slate-400">BK26020001</span>
                  </div>
                  <span class="px-2 py-0.5 bg-blue-50 text-accent-blue text-[10px] font-semibold rounded-full">Neu</span>
                </div>
                <p class="font-semibold text-navy text-sm">BMW 3er &middot; WI-AB 1234</p>
                <div class="flex items-center gap-2 mt-2">
                  <span class="px-2 py-0.5 bg-slate-100 text-slate-600 text-[10px] font-medium rounded">Inspektion</span>
                </div>
                <div class="flex items-center justify-between mt-3 text-xs text-slate-400">
                  <span>Stefan R.</span>
                  <span>08.02. 10:30</span>
                </div>
              </div>
              <button onclick="switchWorkshopView('detail')" class="w-full py-2.5 bg-accent-blue hover:bg-blue-600 text-white text-xs font-semibold transition-colors">Annehmen</button>
            </div>
            <!-- Card 2 -->
            <div class="bg-white rounded-xl border border-slate-100 shadow-sm card-lift overflow-hidden">
              <div class="p-4">
                <div class="flex items-center justify-between mb-2">
                  <div class="flex items-center gap-1.5">
                    <span class="drag-handle text-slate-300">&equiv;</span>
                    <span class="text-xs font-mono text-slate-400">BK26020002</span>
                  </div>
                  <span class="px-2 py-0.5 bg-blue-50 text-accent-blue text-[10px] font-semibold rounded-full">Neu</span>
                </div>
                <p class="font-semibold text-navy text-sm">Audi A4 &middot; BO-CD 5678</p>
                <div class="flex items-center gap-2 mt-2">
                  <span class="px-2 py-0.5 bg-slate-100 text-slate-600 text-[10px] font-medium rounded">Oelwechsel</span>
                </div>
                <div class="flex items-center justify-between mt-3 text-xs text-slate-400">
                  <span>Maria K.</span>
                  <span>08.02. 11:00</span>
                </div>
              </div>
              <button class="w-full py-2.5 bg-accent-blue hover:bg-blue-600 text-white text-xs font-semibold transition-colors">Annehmen</button>
            </div>
            <!-- Card 3 -->
            <div class="bg-white rounded-xl border border-slate-100 shadow-sm card-lift overflow-hidden">
              <div class="p-4">
                <div class="flex items-center justify-between mb-2">
                  <div class="flex items-center gap-1.5">
                    <span class="drag-handle text-slate-300">&equiv;</span>
                    <span class="text-xs font-mono text-slate-400">BK26020003</span>
                  </div>
                  <span class="px-2 py-0.5 bg-blue-50 text-accent-blue text-[10px] font-semibold rounded-full">Neu</span>
                </div>
                <p class="font-semibold text-navy text-sm">VW Golf 8 &middot; DO-EF 9012</p>
                <div class="flex items-center gap-2 mt-2">
                  <span class="px-2 py-0.5 bg-slate-100 text-slate-600 text-[10px] font-medium rounded">Bremsen</span>
                  <span class="px-2 py-0.5 bg-slate-100 text-slate-600 text-[10px] font-medium rounded">TUeV</span>
                </div>
                <div class="flex items-center justify-between mt-3 text-xs text-slate-400">
                  <span>Thomas B.</span>
                  <span>08.02. 14:00</span>
                </div>
              </div>
              <button class="w-full py-2.5 bg-accent-blue hover:bg-blue-600 text-white text-xs font-semibold transition-colors">Annehmen</button>
            </div>
          </div>
        </div>

        <!-- Column: In Bearbeitung -->
        <div class="kanban-col">
          <div class="flex items-center gap-2 mb-3">
            <div class="w-2.5 h-2.5 bg-accent-amber rounded-full"></div>
            <h3 class="font-semibold text-navy text-sm">In Bearbeitung</h3>
            <span class="ml-auto bg-amber-100 text-accent-amber text-[10px] font-bold px-2 py-0.5 rounded-full">2</span>
          </div>
          <div class="space-y-3">
            <!-- Card 1 -->
            <div class="bg-white rounded-xl border-l-4 border-accent-amber shadow-sm card-lift overflow-hidden">
              <div class="p-4">
                <div class="flex items-center justify-between mb-2">
                  <div class="flex items-center gap-1.5">
                    <span class="drag-handle text-slate-300">&equiv;</span>
                    <span class="text-xs font-mono text-slate-400">BK26020004</span>
                  </div>
                  <span class="px-2 py-0.5 bg-amber-50 text-accent-amber text-[10px] font-semibold rounded-full">In Arbeit</span>
                </div>
                <p class="font-semibold text-navy text-sm">Mercedes C200 &middot; EN-GH 3456</p>
                <div class="flex items-center gap-2 mt-2">
                  <span class="px-2 py-0.5 bg-slate-100 text-slate-600 text-[10px] font-medium rounded">Inspektion</span>
                </div>
                <div class="flex items-center justify-between mt-3 text-xs text-slate-400">
                  <span>Lisa M.</span>
                  <span>Schritt 2/4</span>
                </div>
                <!-- Progress -->
                <div class="mt-2 h-1.5 bg-slate-100 rounded-full overflow-hidden">
                  <div class="h-full bg-accent-amber rounded-full progress-pulse" style="width:50%"></div>
                </div>
              </div>
              <div class="flex border-t border-slate-100">
                <button class="flex-1 py-2.5 text-xs font-medium text-accent-amber hover:bg-amber-50 border-r border-slate-100 transition-colors">+ Erweiterung</button>
                <button class="flex-1 py-2.5 text-xs font-semibold text-accent-success hover:bg-emerald-50 transition-colors">Abschliessen</button>
              </div>
            </div>
            <!-- Card 2 -->
            <div class="bg-white rounded-xl border-l-4 border-accent-amber shadow-sm card-lift overflow-hidden">
              <div class="p-4">
                <div class="flex items-center justify-between mb-2">
                  <div class="flex items-center gap-1.5">
                    <span class="drag-handle text-slate-300">&equiv;</span>
                    <span class="text-xs font-mono text-slate-400">BK26020005</span>
                  </div>
                  <span class="px-2 py-0.5 bg-amber-50 text-accent-amber text-[10px] font-semibold rounded-full">In Arbeit</span>
                </div>
                <p class="font-semibold text-navy text-sm">Opel Astra &middot; HER-IJ 7890</p>
                <div class="flex items-center gap-2 mt-2">
                  <span class="px-2 py-0.5 bg-slate-100 text-slate-600 text-[10px] font-medium rounded">Reifenwechsel</span>
                </div>
                <div class="flex items-center justify-between mt-3 text-xs text-slate-400">
                  <span>Jan P.</span>
                  <span>Schritt 3/4</span>
                </div>
                <div class="mt-2 h-1.5 bg-slate-100 rounded-full overflow-hidden">
                  <div class="h-full bg-accent-amber rounded-full progress-pulse" style="width:75%"></div>
                </div>
                <!-- Extension badge -->
                <div class="mt-2 flex items-center gap-1">
                  <span class="px-2 py-0.5 bg-accent-success/10 text-accent-success text-[10px] font-medium rounded-full">Erweiterung genehmigt</span>
                </div>
              </div>
              <div class="flex border-t border-slate-100">
                <button class="flex-1 py-2.5 text-xs font-medium text-accent-amber hover:bg-amber-50 border-r border-slate-100 transition-colors">+ Erweiterung</button>
                <button class="flex-1 py-2.5 text-xs font-semibold text-accent-success hover:bg-emerald-50 transition-colors">Abschliessen</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Column: Abgeschlossen -->
        <div class="kanban-col">
          <div class="flex items-center gap-2 mb-3">
            <div class="w-2.5 h-2.5 bg-accent-success rounded-full"></div>
            <h3 class="font-semibold text-navy text-sm">Abgeschlossen</h3>
            <span class="ml-auto bg-emerald-100 text-accent-success text-[10px] font-bold px-2 py-0.5 rounded-full">8</span>
          </div>
          <div class="space-y-3">
            <!-- Card 1 -->
            <div class="bg-white/60 rounded-xl border border-slate-100 shadow-sm overflow-hidden">
              <div class="p-4">
                <div class="flex items-center justify-between mb-2">
                  <span class="text-xs font-mono text-slate-400">BK26020006</span>
                  <svg class="w-5 h-5 text-accent-success" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                </div>
                <p class="font-medium text-slate-500 text-sm">Ford Focus &middot; RE-KL 1234</p>
                <div class="flex items-center gap-2 mt-2">
                  <span class="px-2 py-0.5 bg-slate-50 text-slate-400 text-[10px] font-medium rounded">Inspektion</span>
                </div>
                <div class="flex items-center justify-between mt-3 text-xs text-slate-400">
                  <span>Anna S.</span>
                  <span>07.02. 16:20</span>
                </div>
              </div>
              <button onclick="switchWorkshopView('detail')" class="w-full py-2 text-xs text-slate-400 hover:text-accent-blue hover:bg-blue-50 border-t border-slate-100 transition-colors">Details ansehen</button>
            </div>
            <!-- Card 2 -->
            <div class="bg-white/60 rounded-xl border border-slate-100 shadow-sm overflow-hidden">
              <div class="p-4">
                <div class="flex items-center justify-between mb-2">
                  <span class="text-xs font-mono text-slate-400">BK26020007</span>
                  <svg class="w-5 h-5 text-accent-success" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                </div>
                <p class="font-medium text-slate-500 text-sm">Hyundai i30 &middot; GE-MN 5678</p>
                <div class="flex items-center gap-2 mt-2">
                  <span class="px-2 py-0.5 bg-slate-50 text-slate-400 text-[10px] font-medium rounded">Oelwechsel</span>
                </div>
                <div class="flex items-center justify-between mt-3 text-xs text-slate-400">
                  <span>Peter W.</span>
                  <span>07.02. 14:45</span>
                </div>
              </div>
              <button onclick="switchWorkshopView('detail')" class="w-full py-2 text-xs text-slate-400 hover:text-accent-blue hover:bg-blue-50 border-t border-slate-100 transition-colors">Details ansehen</button>
            </div>
            <!-- Placeholder for more -->
            <div class="text-center py-3">
              <span class="text-xs text-slate-400">+6 weitere Auftraege</span>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div><!-- /workshop-kanban -->

  <!-- === WORKSHOP VIEW 2: ORDER DETAIL === -->
  <div id="workshop-detail" class="view-panel">
    <div class="max-w-5xl mx-auto px-6 py-6">

      <!-- Header -->
      <div class="flex items-center justify-between mb-6">
        <div class="flex items-center gap-3">
          <button onclick="switchWorkshopView('kanban')" class="w-8 h-8 rounded-lg bg-slate-100 hover:bg-slate-200 flex items-center justify-center transition-colors">
            <svg class="w-4 h-4 text-slate-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
          </button>
          <div>
            <h2 class="text-lg font-bold text-navy">Auftragsdetails</h2>
            <p class="text-xs text-slate-400 font-mono">BK26020001</p>
          </div>
        </div>
        <span class="px-3 py-1 bg-amber-50 text-accent-amber text-sm font-semibold rounded-lg border border-amber-200">In Bearbeitung</span>
      </div>

      <!-- Status Advancement -->
      <div class="bg-white rounded-xl p-5 border border-slate-100 shadow-sm mb-5">
        <p class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3">Status aendern</p>
        <div class="flex gap-3">
          <button class="flex-1 py-3 bg-accent-success hover:bg-emerald-600 text-white font-semibold text-sm rounded-xl transition-colors shadow-md shadow-emerald-100 flex items-center justify-center gap-2">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
            Als abgeschlossen markieren
          </button>
        </div>
        <!-- Status timeline -->
        <div class="mt-4 flex items-center gap-0">
          <div class="flex flex-col items-center">
            <div class="w-7 h-7 rounded-full bg-accent-success flex items-center justify-center"><svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></div>
            <p class="text-[9px] text-slate-400 mt-1">Eingegangen</p>
            <p class="text-[9px] text-slate-300">08.02. 10:30</p>
          </div>
          <div class="flex-1 h-0.5 bg-accent-success mx-1"></div>
          <div class="flex flex-col items-center">
            <div class="w-7 h-7 rounded-full bg-accent-amber flex items-center justify-center pulse-dot"><div class="w-2.5 h-2.5 bg-white rounded-full"></div></div>
            <p class="text-[9px] text-navy font-semibold mt-1">In Bearbeitung</p>
            <p class="text-[9px] text-slate-300">08.02. 11:15</p>
          </div>
          <div class="flex-1 h-0.5 bg-slate-200 mx-1"></div>
          <div class="flex flex-col items-center">
            <div class="w-7 h-7 rounded-full bg-slate-200 flex items-center justify-center"><div class="w-2.5 h-2.5 bg-slate-300 rounded-full"></div></div>
            <p class="text-[9px] text-slate-400 mt-1">Abgeschlossen</p>
          </div>
        </div>
      </div>

      <!-- Two column info -->
      <div class="grid grid-cols-2 gap-5 mb-5">
        <!-- Left: Vehicle + Customer -->
        <div class="space-y-5">
          <div class="bg-white rounded-xl p-5 border border-slate-100 shadow-sm">
            <p class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3">Fahrzeuginformationen</p>
            <div class="grid grid-cols-2 gap-y-3 text-sm">
              <div><span class="text-slate-400 text-xs">Marke / Modell</span><p class="font-medium text-navy">BMW 3er (F30)</p></div>
              <div><span class="text-slate-400 text-xs">Kennzeichen</span><p class="font-medium text-navy">WI-AB 1234</p></div>
              <div><span class="text-slate-400 text-xs">Baujahr</span><p class="font-medium text-navy">2022</p></div>
              <div><span class="text-slate-400 text-xs">Kilometerstand</span><p class="font-medium text-navy">45.230 km</p></div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-slate-100 shadow-sm">
            <p class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3">Kundeninformationen</p>
            <p class="font-semibold text-navy text-sm">Stefan R.</p>
            <div class="mt-2 space-y-1.5">
              <a href="#" class="flex items-center gap-2 text-xs text-accent-blue hover:underline">
                <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
                stefan.r@example.de
              </a>
              <a href="#" class="flex items-center gap-2 text-xs text-accent-blue hover:underline">
                <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
                0151 1234 5678
              </a>
            </div>
            <div class="mt-3 pt-3 border-t border-slate-100 text-xs text-slate-500">
              <p class="font-medium text-slate-400 mb-1">Abhol-/Rueckgabeadresse</p>
              Hauptstr. 123, 58453 Witten
            </div>
          </div>
        </div>

        <!-- Right: Service + Details -->
        <div class="space-y-5">
          <div class="bg-white rounded-xl p-5 border border-slate-100 shadow-sm">
            <p class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3">Service-Details</p>
            <div class="space-y-3 text-sm">
              <div class="flex items-center justify-between">
                <span class="text-slate-500">Service</span>
                <span class="font-medium text-navy">Inspektion</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-slate-500">Abholung</span>
                <span class="font-medium text-navy">08.02.2026 10:00</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-slate-500">Rueckgabe</span>
                <span class="font-medium text-navy">09.02.2026 14:00</span>
              </div>
              <div class="flex items-center justify-between pt-3 border-t border-slate-100">
                <span class="text-slate-500 font-medium">Preis</span>
                <span class="font-bold text-navy text-base">250,00 &euro;</span>
              </div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-slate-100 shadow-sm">
            <p class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3">Notizen</p>
            <p class="text-sm text-slate-500">Kunde bittet um Pruefung der Bremsbelaege. Rueckruf-Aktion fuer Airbag beachten (BMW Ref. #2024-0815).</p>
          </div>
        </div>
      </div>

      <!-- Extensions Section -->
      <div class="bg-white rounded-xl p-5 border border-slate-100 shadow-sm mb-5">
        <div class="flex items-center justify-between mb-4">
          <div class="flex items-center gap-2">
            <p class="text-xs font-semibold text-slate-400 uppercase tracking-wider">Erweiterungen</p>
            <span class="px-2 py-0.5 bg-accent-success/10 text-accent-success text-[10px] font-bold rounded-full">1 genehmigt</span>
          </div>
          <button onclick="toggleExtensionForm()" id="ext-toggle-btn" class="px-3 py-1.5 bg-accent-amber hover:bg-amber-500 text-white text-xs font-semibold rounded-lg transition-colors">+ Neue Erweiterung</button>
        </div>

        <!-- Existing extension -->
        <div class="p-3 bg-emerald-50 rounded-lg border border-emerald-100 mb-3">
          <div class="flex items-center justify-between mb-2">
            <span class="text-xs font-semibold text-navy">Erweiterung #1</span>
            <span class="px-2 py-0.5 bg-accent-success text-white text-[10px] font-bold rounded-full">Genehmigt</span>
          </div>
          <div class="text-xs text-slate-600 space-y-1">
            <div class="flex justify-between"><span>Bremsscheiben vorne abgenutzt</span><span class="font-medium">185,50 &euro;</span></div>
            <div class="flex justify-between"><span>Bremsbelaege ersetzen</span><span class="font-medium">95,00 &euro;</span></div>
            <div class="flex justify-between pt-1 border-t border-emerald-200 font-semibold text-navy"><span>Gesamt</span><span>280,50 &euro;</span></div>
          </div>
        </div>

        <!-- Extension creation form (hidden by default) -->
        <div id="extension-form" class="hidden mt-4 p-4 bg-slate-50 rounded-xl border border-slate-200">
          <p class="text-sm font-semibold text-navy mb-3">Neue Erweiterung erstellen</p>
          <div>
            <label class="text-xs text-slate-500 font-medium">Beschreibung</label>
            <textarea class="w-full mt-1 px-3 py-2 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-amber/30 focus:border-accent-amber" rows="2" placeholder="Grund fuer die Erweiterung..."></textarea>
          </div>
          <div class="mt-3">
            <label class="text-xs text-slate-500 font-medium">Positionen</label>
            <table class="w-full mt-1 text-sm">
              <thead>
                <tr class="text-xs text-slate-400">
                  <th class="text-left font-medium pb-1">Bezeichnung</th>
                  <th class="text-center font-medium pb-1 w-16">Menge</th>
                  <th class="text-right font-medium pb-1 w-24">Einzelpreis</th>
                  <th class="text-right font-medium pb-1 w-24">Gesamt</th>
                  <th class="w-8"></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="pr-2 py-1"><input type="text" class="w-full px-2 py-1.5 border border-slate-200 rounded text-xs" placeholder="z.B. Zahnriemen"></td>
                  <td class="px-1 py-1"><input type="number" value="1" class="w-full px-2 py-1.5 border border-slate-200 rounded text-xs text-center"></td>
                  <td class="px-1 py-1"><input type="text" class="w-full px-2 py-1.5 border border-slate-200 rounded text-xs text-right" placeholder="0,00"></td>
                  <td class="pl-1 py-1 text-xs text-right text-slate-400 font-medium">0,00 &euro;</td>
                  <td class="py-1 text-center"><button class="text-slate-300 hover:text-accent-error"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg></button></td>
                </tr>
              </tbody>
            </table>
            <button class="mt-2 text-xs text-accent-blue hover:underline font-medium">+ Position hinzufuegen</button>
          </div>
          <div class="mt-4 flex items-center justify-between">
            <div class="text-sm font-bold text-navy">Gesamt: 0,00 &euro;</div>
            <div class="flex gap-2">
              <button onclick="toggleExtensionForm()" class="px-4 py-2 text-xs text-slate-500 hover:text-slate-700 font-medium">Abbrechen</button>
              <button class="px-4 py-2 bg-accent-amber hover:bg-amber-500 text-white text-xs font-semibold rounded-lg transition-colors">Erweiterung senden</button>
            </div>
          </div>
          <p class="mt-2 text-[10px] text-slate-400">Der Kunde wird benachrichtigt und muss die Erweiterung genehmigen.</p>
        </div>
      </div>

      <!-- Communication Section -->
      <div class="bg-white rounded-xl p-5 border border-slate-100 shadow-sm mb-8">
        <p class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3">Notizen & Kommunikation</p>
        <div class="space-y-2 mb-3">
          <div class="p-2.5 bg-slate-50 rounded-lg text-xs">
            <div class="flex items-center justify-between mb-1">
              <span class="font-medium text-navy">Meister Schulz</span>
              <span class="text-slate-400">08.02. 11:20</span>
            </div>
            <p class="text-slate-600">Fahrzeug angenommen. Bremsenverschleiss deutlich sichtbar, Erweiterung empfohlen.</p>
          </div>
          <div class="p-2.5 bg-blue-50 rounded-lg text-xs">
            <div class="flex items-center justify-between mb-1">
              <span class="font-medium text-accent-blue">System</span>
              <span class="text-slate-400">08.02. 12:05</span>
            </div>
            <p class="text-slate-600">Erweiterung #1 (280,50 EUR) vom Kunden genehmigt.</p>
          </div>
        </div>
        <div class="flex gap-2">
          <input type="text" class="flex-1 px-3 py-2 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-amber/30 focus:border-accent-amber" placeholder="Notiz hinzufuegen...">
          <button class="px-4 py-2 bg-navy hover:bg-navy-light text-white text-xs font-semibold rounded-lg transition-colors">Senden</button>
        </div>
      </div>

    </div>
  </div><!-- /workshop-detail -->

</div><!-- /portal-workshop -->

<script>
// Portal switching
function switchPortal(portal) {
  document.querySelectorAll('.portal-content').forEach(el => el.classList.remove('active'));
  document.querySelectorAll('.portal-tab').forEach(el => el.classList.remove('active'));
  document.getElementById('portal-' + portal).classList.add('active');
  document.getElementById('tab-' + portal).classList.add('active');
}

// Jockey view switching
function switchJockeyView(view) {
  document.querySelectorAll('#portal-jockey .view-panel').forEach(el => el.classList.remove('active'));
  document.getElementById('jockey-' + view).classList.add('active');
  document.querySelectorAll('#portal-jockey [id^="jv-"]').forEach(btn => {
    btn.className = 'px-4 py-2 text-sm font-medium rounded-full ' +
      (btn.id === 'jv-' + view ? 'bg-accent-blue text-white' : 'bg-slate-200 text-slate-600 hover:bg-slate-300');
  });
}

// Workshop view switching
function switchWorkshopView(view) {
  document.querySelectorAll('#portal-workshop .view-panel').forEach(el => el.classList.remove('active'));
  document.getElementById('workshop-' + view).classList.add('active');
  document.querySelectorAll('#portal-workshop [id^="wv-"]').forEach(btn => {
    btn.className = 'px-4 py-2 text-sm font-medium rounded-lg ' +
      (btn.id === 'wv-' + view ? 'bg-accent-amber text-white' : 'bg-slate-100 text-slate-600 hover:bg-slate-200');
  });
}

// Toggle availability
let isAvailable = true;
function toggleAvailability() {
  isAvailable = !isAvailable;
  const track = document.getElementById('toggle-track');
  const knob = document.getElementById('toggle-knob');
  const label = document.getElementById('toggle-label');
  if (isAvailable) {
    track.className = 'toggle-track w-11 h-6 rounded-full bg-accent-success';
    knob.style.transform = 'translateX(0)';
    label.textContent = 'Verfuegbar';
    label.className = 'text-sm font-semibold text-accent-success';
  } else {
    track.className = 'toggle-track w-11 h-6 rounded-full bg-slate-300';
    knob.style.transform = 'translateX(-20px)';
    label.textContent = 'Beschaeftigt';
    label.className = 'text-sm font-semibold text-slate-400';
  }
}

// Toggle completed section
function toggleCompleted() {
  const section = document.getElementById('completed-section');
  const chevron = document.getElementById('completed-chevron');
  section.classList.toggle('hidden');
  chevron.style.transform = section.classList.contains('hidden') ? '' : 'rotate(90deg)';
}

// Toggle extension form
function toggleExtensionForm() {
  const form = document.getElementById('extension-form');
  form.classList.toggle('hidden');
}
</script>

</body>
</html>
